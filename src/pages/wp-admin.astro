---
// Easter egg: Fake WordPress admin login page
import { Icon } from "astro-icon/components"
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="noindex, nofollow" />
    <title>Log In ‚Äπ Kadykov ‚Äî WordPress</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      .screen-reader-text {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip-path: inset(50%);
        white-space: nowrap;
        border: 0;
      }

      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans,
          Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
        background: #f0f0f1;
        color: #3c434a;
        line-height: 1.4;
        min-height: 100vh;
      }

      #login {
        width: 320px;
        padding: 5% 0 0;
        margin: auto;
      }

      #login h1 {
        text-align: center;
        margin-bottom: 25px;
      }

      #nav a {
        color: #50575e;
        text-decoration: none;
      }

      #backtoblog a {
        color: #50575e;
        text-decoration: none;
      }

      #login h1 a {
        display: flex;
        align-items: center;
        justify-content: center;
        color: #0073aa;
        height: 84px;
        font-size: 20px;
        font-weight: 400;
        line-height: 1.3;
        margin: 0 auto 25px;
        padding: 0;
        text-decoration: none;
        width: 84px;
        text-indent: 0;
        outline: 0;
        overflow: visible;
      }

      #nav a:hover {
        color: #135e96;
      }

      #backtoblog a:hover {
        color: #135e96;
      }

      #loginform {
        background: #fff;
        border: 1px solid #c3c4c7;
        box-shadow: 0 1px 3px rgb(0 0 0 / 4%);
        padding: 26px 24px;
        margin: 24px 0;
        font-weight: 400;
        overflow: hidden;
      }

      .modal-body p {
        margin-bottom: 12px;
      }

      label {
        display: block;
      }

      .forgetmenot label {
        font-size: 12px;
        line-height: 1.5;
        vertical-align: baseline;
        display: inline;
      }

      #loginform label {
        font-size: 14px;
        font-weight: 400;
        line-height: 1.5;
        margin-bottom: 3px;
        color: #2c3338;
      }

      #loginform input[type="text"],
      #loginform input[type="password"] {
        background: #fff;
        border: 1px solid #8c8f94;
        border-radius: 4px;
        color: #2c3338;
        font-size: 24px;
        width: 100%;
        padding: 3px 5px;
        margin: 0 6px 16px 0;
        line-height: 1.3333;
        box-shadow: 0 0 0 transparent;
        transition: box-shadow 0.1s linear;
        outline: 0;
      }

      #loginform input[type="text"]:focus,
      #loginform input[type="password"]:focus {
        border-color: #2271b1;
        box-shadow: 0 0 0 1px #2271b1;
        outline: 2px solid transparent;
      }

      .user-pass-wrap {
        position: relative;
      }

      .wp-pwd {
        position: relative;
      }

      .wp-pwd input {
        padding-right: 40px;
      }

      .password-toggle {
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        background: none;
        border: none;
        cursor: pointer;
        padding: 0;
        color: #2271b1;
        width: 18px;
        height: 18px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-top: -8px;
      }

      .password-toggle:hover {
        color: #135e96;
      }

      .forgetmenot {
        font-weight: 400;
        display: block;
        float: left;
      }

      .forgetmenot input[type="checkbox"] {
        height: 1rem;
        width: 1rem;
        margin: -0.25rem 0.25rem 0 0;
        text-align: center;
        vertical-align: middle;
        display: inline-block;
      }

      .submit {
        flex: 0 0 auto;
        margin: 0;
        float: right;
      }

      #wp-submit {
        background: #2271b1;
        border-color: #2271b1;
        color: #fff;
        text-decoration: none;
        text-shadow: none;
        border-width: 1px;
        border-style: solid;
        border-radius: 3px;
        cursor: pointer;
        font-size: 13px;
        line-height: 2.3077;
        padding: 0 12px;
        width: auto;
        margin-top: 0;
        box-shadow: 0 1px 0 #2271b1;
        font-weight: 500;
      }

      #wp-submit:hover,
      #wp-submit:focus {
        background: #135e96;
        border-color: #135e96;
      }

      #wp-submit:active {
        background: #135e96;
        border-color: #135e96;
        box-shadow: inset 0 2px 0 #135e96;
        vertical-align: top;
      }

      #nav {
        text-align: left;
        padding: 0 24px;
        margin: 24px 0 0;
        font-size: 13px;
      }

      #backtoblog {
        text-align: left;
        padding: 0 24px;
        margin: 16px 0;
        font-size: 13px;
      }

      .language-switcher {
        text-align: center;
        padding: 16px;
        font-size: 13px;
      }

      /* Modal styles */
      .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgb(0 0 0 / 60%);
        align-items: center;
        justify-content: center;
      }

      .modal.show {
        display: flex;
      }

      .modal-content {
        background-color: #fff;
        border-radius: 4px;
        box-shadow: 0 5px 15px rgb(0 0 0 / 30%);
        padding: 24px;
        max-width: 500px;
        width: 90%;
        position: relative;
      }

      .modal-footer {
        display: flex;
        gap: 10px;
        justify-content: flex-end;
      }

      .modal-button {
        background: #f6f7f7;
        border: 1px solid;
        border-radius: 3px;
        cursor: pointer;
        padding: 8px 16px;
        font-weight: 600;
        transition: background 0.2s;
      }

      .modal-button:hover {
        background: #f0f0f1;
      }

      @media (width <= 780px) {
        #wp-submit {
          font-size: 14px;
          min-height: 40px;
          padding: 0 14px;
          margin-bottom: 4px;
        }

        .forgetmenot input[type="checkbox"] {
          height: 25px;
          width: 25px;
        }
      }
    </style>
  </head>
  <body class="login">
    <div id="login">
      <h1>
        <a href="/">
          <Icon name="fa:wordpress" size={84} />
          <span class="screen-reader-text">Kadykov</span>
        </a>
      </h1>
      <form name="loginform" id="loginform" method="post">
        <p>
          <label for="user_login">Username or Email Address</label>
          <input
            type="text"
            name="log"
            id="user_login"
            class="input"
            value=""
            size="20"
            autocapitalize="off"
            autocomplete="username"
            required
          />
        </p>

        <div class="user-pass-wrap">
          <label for="user_pass">Password</label>
          <div class="wp-pwd">
            <input
              type="password"
              name="pwd"
              id="user_pass"
              class="input password-input"
              value=""
              size="20"
              autocomplete="current-password"
              required
            />
            <button
              type="button"
              class="password-toggle"
              aria-label="Show password"
            >
              <Icon name="fa:eye" class="icon-show" size={18} />
              <Icon
                name="fa:eye-slash"
                class="icon-hide"
                size={18}
                style="display: none;"
              />
            </button>
          </div>
        </div>

        <div class="submit-row">
          <p class="forgetmenot">
            <input
              name="rememberme"
              type="checkbox"
              id="rememberme"
              value="forever"
            />
            <label for="rememberme">Remember Me</label>
          </p>

          <p class="submit">
            <input
              type="submit"
              name="wp-submit"
              id="wp-submit"
              class="button button-primary button-large"
              value="Log In"
            />
          </p>
        </div>
      </form>

      <p id="nav">
        <!-- TODO: Add a blog post about password managers -->
        <a href="/">Lost your password?</a>
      </p>

      <p id="backtoblog">
        <a href="/">‚Üê Go to Kadykov</a>
      </p>
    </div>

    <!-- Modal for responses -->
    <div id="responseModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="modalTitle">Response</h2>
        </div>
        <div class="modal-body" id="modalBody"></div>
        <div class="modal-footer">
          <button class="modal-button" id="closeModal">Close</button>
        </div>
      </div>
    </div>

    <script>
      const form = document.getElementById("loginform") as HTMLFormElement
      const modal = document.getElementById("responseModal") as HTMLElement
      const modalTitle = document.getElementById("modalTitle") as HTMLElement
      const modalBody = document.getElementById("modalBody") as HTMLElement
      const closeBtn = document.getElementById(
        "closeModal"
      ) as HTMLButtonElement
      const passwordInput = document.getElementById(
        "user_pass"
      ) as HTMLInputElement
      const passwordToggle = document.querySelector(
        ".password-toggle"
      ) as HTMLButtonElement

      // Password visibility toggle
      passwordToggle.addEventListener("click", () => {
        const type = passwordInput.type === "password" ? "text" : "password"
        passwordInput.type = type

        // Toggle icons
        const iconShow = passwordToggle.querySelector(
          ".icon-show"
        ) as HTMLElement
        const iconHide = passwordToggle.querySelector(
          ".icon-hide"
        ) as HTMLElement

        if (iconShow && iconHide) {
          iconShow.style.display = type === "password" ? "block" : "none"
          iconHide.style.display = type === "password" ? "none" : "block"
        }

        passwordToggle.setAttribute(
          "aria-label",
          type === "password" ? "Show password" : "Hide password"
        )
      })

      closeBtn.addEventListener("click", () => {
        modal.classList.remove("show")
      })

      modal.addEventListener("click", (e) => {
        if (e.target === modal) {
          modal.classList.remove("show")
        }
      })

      // Simple password strength checker
      function isWeakPassword(password: string): boolean {
        // Common weak passwords and patterns
        const commonPasswords = [
          "password",
          "123456",
          "12345678",
          "qwerty",
          "abc123",
          "monkey",
          "1234567",
          "letmein",
          "trustno1",
          "dragon",
          "baseball",
          "iloveyou",
          "master",
          "sunshine",
          "ashley",
          "bailey",
          "passw0rd",
          "shadow",
          "123123",
          "654321",
          "superman",
          "qazwsx",
          "michael",
          "football",
          "admin",
          "welcome",
          "login",
          "password1",
          "Password1",
          "test",
        ]

        // Check if password is in common list
        if (commonPasswords.includes(password.toLowerCase())) {
          return true
        }

        // Check for simple patterns
        if (password.length < 8) {
          return true
        }

        // Check if it's only numbers
        if (/^\d+$/.test(password)) {
          return true
        }

        // Check if it's only letters
        if (/^[a-zA-Z]+$/.test(password)) {
          return true
        }

        // Check for keyboard patterns
        const keyboardPatterns = [
          "qwerty",
          "asdfgh",
          "zxcvbn",
          "12345",
          "09876",
        ]
        for (const pattern of keyboardPatterns) {
          if (password.toLowerCase().includes(pattern)) {
            return true
          }
        }

        return false
      }

      form.addEventListener("submit", (e) => {
        e.preventDefault()

        const username = (
          document.getElementById("user_login") as HTMLInputElement
        ).value
        const password = (
          document.getElementById("user_pass") as HTMLInputElement
        ).value

        if (isWeakPassword(password)) {
          // Weak password response
          modalTitle.textContent = `ü§î Really, ${username}?`
          modalBody.innerHTML = `
					<p><strong>Do you really think I use such an insecure password?</strong></p>
					<p>Using weak passwords is one of the biggest security risks online. Even for fake login pages like this one, it's good practice to think about password security!</p>
					<p><strong>Pro tip:</strong> Use a password manager like <a href="https://bitwarden.com/" target="_blank" rel="noopener">Bitwarden</a>, <a href="https://1password.com/" target="_blank" rel="noopener">1Password</a>, or <a href="https://www.keepass.info/" target="_blank" rel="noopener">KeePass</a> to generate and store strong, unique passwords for every site.</p>
					<p>Your future self will thank you! üîê</p>
				`
        } else {
          // Strong password response
          modalTitle.textContent = `üéâ Nice Try, ${username}!`
          modalBody.innerHTML = `
					<p><strong>Do you really think this site is powered by WordPress?</strong></p>
					<p>This website is actually built with <a href="https://astro.build/" target="_blank" rel="noopener">Astro</a>, a modern static site generator that delivers fast, content-focused websites.</p>
					<p>If you're curious about how this site was built and why I chose Astro:</p>
					<ul style="margin-left: 20px; margin-bottom: 12px;">
						<li>Check out the <a href="/about">About page</a> for more details</li>
						<li>Browse the <a href="https://github.com/kadykov/kadykov.com" target="_blank" rel="noopener">source code on GitHub</a></li>
					</ul>
					<p>And hey, nice password! It looks reasonably secure. Keep using strong passwords! üí™</p>
				`
        }

        modal.classList.add("show")
      })

      // Easter egg hint in console
      console.log(
        "%cüé≠ Easter Egg Found!",
        "font-size: 20px; color: #2271b1; font-weight: bold;"
      )
      console.log(
        "%cYou discovered the fake WordPress admin page!",
        "font-size: 14px; color: #3c434a;"
      )
      console.log(
        "%cTry logging in with different passwords to see what happens...",
        "font-size: 12px; color: #666;"
      )
    </script>
  </body>
</html>

@import "modern-normalize/modern-normalize.css";

/* Dark mode support */
:root {
  --font-sans: "Source Sans 3 Variable", Arial, sans-serif;
  --font-serif: "Bitter Variable", Georgia, serif;
  --color-bg: #fff;
  --color-bg-muted: #f7f7f7;
  --color-content: #181818;
  --color-content-muted: #494949;
  --color-accent: #3b82f6;
  --color-hover: rgba(59, 130, 246, 0.1);
  --color-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.1);

  --max-w-body: 40rem;
  --max-w-body-xl: 48rem;

  /* Define breakpoint variables for documentation and DRYness */
  --breakpoint-sm: 680px;
  --breakpoint-md: 900px;
  --breakpoint-lg: 1200px;
  --breakpoint-xl: 1500px;
  --breakpoint-2xl: 1800px;
}

/* Dark mode colors for auto theme (prefers-color-scheme) */
@media (prefers-color-scheme: dark) {
  :root {
    --color-bg: #0f0f0f;
    --color-bg-muted: #1a1a1a;
    --color-content: #f0f0f0;
    --color-content-muted: #a3a3a3;
    --color-accent: #60a5fa;
    --color-hover: rgba(96, 165, 250, 0.1);
    --color-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.3);
  }
}

/* Dark mode colors for explicit dark theme */
[data-theme="dark"] {
  --color-bg: #0f0f0f;
  --color-bg-muted: #1a1a1a;
  --color-content: #f0f0f0;
  --color-content-muted: #a3a3a3;
  --color-accent: #60a5fa;
  --color-hover: rgba(96, 165, 250, 0.1);
  --color-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.3);
}

/* Light mode colors for explicit light theme (overrides auto dark) */
[data-theme="light"] {
  --color-bg: #fff;
  --color-bg-muted: #f7f7f7;
  --color-content: #181818;
  --color-content-muted: #494949;
  --color-accent: #3b82f6;
  --color-hover: rgba(59, 130, 246, 0.1);
  --color-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.1);
}

/* Semantic Text Utilities (No TailwindCSS, DRY & Cascading) */

html,
body {
  margin: 0;
  padding: 0;
}

/* Set serif as the default font and base font size for body text */
body {
  font-family: var(--font-serif);
  font-size: 1.125rem;
  line-height: 1.75;
  color: var(--color-content);
  background-color: var(--color-bg);
  transition:
    background-color 0.15s ease-in-out,
    color 0.15s ease-in-out;
}
@media (min-width: 680px) {
  body {
    font-size: 1.25rem;
  }
}
@media (min-width: 1500px) {
  body {
    font-size: 1.5rem;
  }
}
/* Shared shape and padding for interactive elements */
a,
.btn,
button {
  text-decoration: none;
  color: inherit;
  padding: 0.5em;
  border-radius: 0.5em;
  transition:
    color 0.2s,
    background 0.2s,
    box-shadow 0.2s,
    transform 0.08s;
}

/* Regular text links get negative margins to prevent affecting text flow */
a {
  margin: -0.5em;
}

/* Hover colors and effects */
a:hover,
.btn:hover,
button:hover,
header details ul a:hover {
  color: var(--color-content);
  background: var(--color-hover);
  box-shadow: none;
}

/* Active colors and effects */
a:active,
.btn:active,
button:active,
header details ul a:active {
  color: var(--color-bg);
  background: var(--color-accent);
  transform: scale(0.97);
}
p {
  font-weight: 450;
  color: var(--color-content-muted);
}

/* Headings: style h1-h4 directly, sans-serif, letter-spacing */
h1,
h2,
h3,
h4,
header,
button,
.btn {
  font-family: var(--font-sans);
  letter-spacing: -0.02em;
}

/* Button-style elements: reset margins and add button appearance */
button,
nav ul li a,
.btn {
  margin: 0;
  background: none;
  border: none;
  display: inline-block;
  text-align: center;
  cursor: pointer;
  appearance: none;
  line-height: 1;
}

.btn-outline {
  border: 2px solid var(--color-accent);
  background: none;
}

.btn-outline:hover {
  border-color: var(--color-content);
}

.btn-outline:active {
  border-color: var(--color-accent);
}

/* h1 styles */
h1 {
  font-size: 4.5rem;
  line-height: 1;
  font-weight: 300;
  margin-block: 0.3em;
}
@media (min-width: 680px) {
  /* var(--breakpoint-sm) */
  h1 {
    font-size: 6rem;
    font-weight: 250;
  }
}
@media (min-width: 1500px) {
  /* var(--breakpoint-xl) */
  h1 {
    font-size: 8rem;
    font-weight: 200;
  }
}

/* h2 styles */
h2 {
  font-size: 3rem;
  line-height: 1.1;
  font-weight: 350;
  margin-block: 0.5em;
}
@media (min-width: 680px) {
  /* var(--breakpoint-sm) */
  h2 {
    font-size: 3.75rem;
    line-height: 1;
    font-weight: 325;
  }
}
@media (min-width: 1500px) {
  /* var(--breakpoint-xl) */
  h2 {
    font-size: 4.5rem;
    font-weight: 300;
  }
}

/* h3 styles */
h3 {
  font-size: 1.875rem;
  line-height: 1.2;
  font-weight: 400;
  margin-block: 0.7em;
}
@media (min-width: 680px) {
  /* var(--breakpoint-sm) */
  h3 {
    font-size: 2.25rem;
    line-height: 1.1;
    font-weight: 375;
  }
}
@media (min-width: 1500px) {
  /* var(--breakpoint-xl) */
  h3 {
    font-size: 3rem;
    font-weight: 350;
  }
}

/* h4 styles */
h4 {
  margin-block: 0.9em;
  line-height: 1.2;
}

/* h4 style is shared with buttons and nav links */
h4,
button,
header nav ul li a,
.btn {
  font-size: 1.25rem;
  font-weight: 550;
}
@media (min-width: 680px) {
  /* var(--breakpoint-sm) */
  h4,
  button,
  header nav ul li a,
  .btn {
    font-size: 1.5rem;
    font-weight: 500;
  }
}
@media (min-width: 1500px) {
  /* var(--breakpoint-xl) */
  h4,
  button,
  header nav ul li a,
  .btn {
    font-size: 1.875rem;
    font-weight: 450;
  }
}

blockquote {
  background-color: var(--color-bg-muted);
  border-left: 0.3em solid var(--color-accent);
  padding: 0.5em 1em;
  margin-left: 0;
}

/* Meta/UI text: use sans-serif */
footer,
.text-meta {
  font-family: var(--font-sans);
  font-size: 1rem;
  line-height: 1.75;
}

/* Content containers - prose and article semantic styling */
.prose,
article {
  max-width: 50ch;
  margin: 0 auto;
  padding: 2.5rem 0;
  color: inherit;
}

/* Option 1: Article images with margins, shadows, and rounded corners */

/* Edge-to-edge images (no margins, no shadows, sharp corners) */
/* Images break out of content width and extend to full viewport width */
/* Height limited to small viewport height (100svh) for optimal mobile experience */

/* Style for picture elements (from OptimizedImage component) */
article picture {
  display: block;
  width: 100vw;
  max-height: 100svh;
  margin: 1.5rem 0;

  position: relative;
  left: 50%;
  transform: translateX(-50%);

  overflow: hidden;
}

/* Style for figure elements (contains picture + caption) */
article figure {
  display: block;
  width: 100vw;
  margin: 1.5rem 0;

  position: relative;
  left: 50%;
  transform: translateX(-50%);
}

/* Picture inside figure should not have its own margins */
article figure picture {
  margin: 0;
  left: 0;
  transform: none;
  position: static;
}

/* Style for img elements inside picture and figure */
article picture img,
article figure img {
  display: block;
  width: 100%;
  height: 100%;
  max-height: 100svh;
  object-fit: contain;
  margin: 0;
}

/* Style for standalone img elements (not inside picture) */
/* This handles non-optimizable images from MarkdocImage component */
article img:not(picture img) {
  display: block;
  width: 100vw;
  max-height: 100svh;
  height: auto;
  object-fit: contain;
  margin: 1.5rem 0;

  position: relative;
  left: 50%;
  transform: translateX(-50%);
}

/* Figure captions */
article figcaption {
  font-family: var(--font-sans);
  font-size: 80%;
  color: var(--color-content-muted);
  text-align: center;
  margin: 1.5rem auto;
  max-width: 70ch;
}

/* Full-width layout for header and footer */
header,
footer {
  width: 100vw;
  position: relative;
  left: 50%;
  right: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
  max-width: 100vw;
  padding-left: 1.5em;
  padding-right: 1.5em;
}

/* Add responsive padding to limit content width */
@media (min-width: 1200px) {
  header,
  footer {
    padding-left: calc((100vw - 1200px) / 2 + 1.5em);
    padding-right: calc((100vw - 1200px) / 2 + 1.5em);
  }
}

.prose a {
  font-weight: 550;
}

/* source-sans-3-latin-wght-normal */
@font-face {
  font-family: "Source Sans 3 Variable";
  font-style: normal;
  font-display: block;
  font-weight: 200 900;
  src: url(@fontsource-variable/source-sans-3/files/source-sans-3-latin-wght-normal.woff2)
    format("woff2-variations");
  unicode-range:
    U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
    U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212,
    U+2215, U+FEFF, U+FFFD;
}

/* source-sans-3-cyrillic-wght-normal */
/* @font-face {
  font-family: "Source Sans 3 Variable";
  font-style: normal;
  font-display: block;
  font-weight: 200 900;
  src: url(@fontsource-variable/source-sans-3/files/source-sans-3-cyrillic-wght-normal.woff2)
    format("woff2-variations");
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
} */

/* source-sans-3-latin-ext-wght-normal */
/* @font-face {
  font-family: "Source Sans 3 Variable";
  font-style: normal;
  font-display: block;
  font-weight: 200 900;
  src: url(@fontsource-variable/source-sans-3/files/source-sans-3-latin-ext-wght-normal.woff2)
    format("woff2-variations");
  unicode-range:
    U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304,
    U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB,
    U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
} */

/* source-sans-3-latin-wght-italic */
@font-face {
  font-family: "Source Sans 3 Variable";
  font-style: italic;
  font-display: block;
  font-weight: 200 900;
  src: url(@fontsource-variable/source-sans-3/files/source-sans-3-latin-wght-italic.woff2)
    format("woff2-variations");
  unicode-range:
    U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
    U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212,
    U+2215, U+FEFF, U+FFFD;
}

/* source-sans-3-cyrillic-wght-italic */
/* @font-face {
  font-family: "Source Sans 3 Variable";
  font-style: italic;
  font-display: block;
  font-weight: 200 900;
  src: url(@fontsource-variable/source-sans-3/files/source-sans-3-cyrillic-wght-italic.woff2)
    format("woff2-variations");
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
} */

/* source-sans-3-latin-ext-wght-italic */
/* @font-face {
  font-family: "Source Sans 3 Variable";
  font-style: italic;
  font-display: block;
  font-weight: 200 900;
  src: url(@fontsource-variable/source-sans-3/files/source-sans-3-latin-ext-wght-italic.woff2)
    format("woff2-variations");
  unicode-range:
    U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304,
    U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB,
    U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
} */

/* bitter-latin-wght-normal */
@font-face {
  font-family: "Bitter Variable";
  font-style: normal;
  font-display: block;
  font-weight: 100 900;
  src: url(@fontsource-variable/bitter/files/bitter-latin-wght-normal.woff2)
    format("woff2-variations");
  unicode-range:
    U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
    U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212,
    U+2215, U+FEFF, U+FFFD;
}

/* bitter-cyrillic-wght-normal */
/* @font-face {
  font-family: "Bitter Variable";
  font-style: normal;
  font-display: block;
  font-weight: 100 900;
  src: url(@fontsource-variable/bitter/files/bitter-cyrillic-wght-normal.woff2)
    format("woff2-variations");
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
} */

/* bitter-latin-ext-wght-normal */
/* @font-face {
  font-family: "Bitter Variable";
  font-style: normal;
  font-display: block;
  font-weight: 100 900;
  src: url(@fontsource-variable/bitter/files/bitter-latin-ext-wght-normal.woff2)
    format("woff2-variations");
  unicode-range:
    U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304,
    U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB,
    U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
} */

/* bitter-latin-wght-italic */
@font-face {
  font-family: "Bitter Variable";
  font-style: italic;
  font-display: block;
  font-weight: 100 900;
  src: url(@fontsource-variable/bitter/files/bitter-latin-wght-italic.woff2)
    format("woff2-variations");
  unicode-range:
    U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
    U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212,
    U+2215, U+FEFF, U+FFFD;
}

/* bitter-cyrillic-wght-italic */
/* @font-face {
  font-family: "Bitter Variable";
  font-style: italic;
  font-display: block;
  font-weight: 100 900;
  src: url(@fontsource-variable/bitter/files/bitter-cyrillic-wght-italic.woff2)
    format("woff2-variations");
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
} */

/* bitter-latin-ext-wght-italic */
/* @font-face {
  font-family: "Bitter Variable";
  font-style: italic;
  font-display: block;
  font-weight: 100 900;
  src: url(@fontsource-variable/bitter/files/bitter-latin-ext-wght-italic.woff2)
    format("woff2-variations");
  unicode-range:
    U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304,
    U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB,
    U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
} */

/* source-code-pro-latin-wght-normal */
/* @font-face {
  font-family: "Source Code Pro Variable";
  font-style: normal;
  font-display: block;
  font-weight: 200 900;
  src: url(@fontsource-variable/source-code-pro/files/source-code-pro-latin-wght-normal.woff2)
    format("woff2-variations");
  unicode-range:
    U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
    U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212,
    U+2215, U+FEFF, U+FFFD;
} */

/* source-code-pro-latin-ext-wght-normal */
/* @font-face {
  font-family: "Source Code Pro Variable";
  font-style: normal;
  font-display: block;
  font-weight: 200 900;
  src: url(@fontsource-variable/source-code-pro/files/source-code-pro-latin-ext-wght-normal.woff2)
    format("woff2-variations");
  unicode-range:
    U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304,
    U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB,
    U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
} */

/* source-code-pro-cyrillic-wght-normal */
/* @font-face {
  font-family: "Source Code Pro Variable";
  font-style: normal;
  font-display: block;
  font-weight: 200 900;
  src: url(@fontsource-variable/source-code-pro/files/source-code-pro-cyrillic-wght-normal.woff2)
    format("woff2-variations");
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
} */

/* source-code-pro-latin-wght-italic */
/* @font-face {
  font-family: "Source Code Pro Variable";
  font-style: italic;
  font-display: block;
  font-weight: 200 900;
  src: url(@fontsource-variable/source-code-pro/files/source-code-pro-latin-wght-italic.woff2)
    format("woff2-variations");
  unicode-range:
    U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
    U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212,
    U+2215, U+FEFF, U+FFFD;
} */

/* source-code-pro-latin-ext-wght-italic */
/* @font-face {
  font-family: "Source Code Pro Variable";
  font-style: italic;
  font-display: block;
  font-weight: 200 900;
  src: url(@fontsource-variable/source-code-pro/files/source-code-pro-latin-ext-wght-italic.woff2)
    format("woff2-variations");
  unicode-range:
    U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304,
    U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB,
    U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
} */

/* source-code-pro-cyrillic-wght-italic */
/* @font-face {
  font-family: "Source Code Pro Variable";
  font-style: italic;
  font-display: block;
  font-weight: 200 900;
  src: url(@fontsource-variable/source-code-pro/files/source-code-pro-cyrillic-wght-italic.woff2)
    format("woff2-variations");
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
} */

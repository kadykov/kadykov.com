/* The integration's default injected base.css file */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  /* Semantic Text Utilities (No TailwindCSS, DRY & Cascading) */
  :root {
    --font-sans: "Source Sans 3 Variable", Arial, sans-serif;
    --font-serif: "Bitter Variable", Georgia, serif;
    --color-link: #515151;
    --color-link-hover: #181818;
    --color-link-active-bg: #181818; /* or your preferred dark color */
    --color-link-active-text: #fff;
    --color-link-bg-hover: rgba(
      0,
      0,
      0,
      0.04
    ); /* transparent version of link color */
    --max-w-body: 40rem;
    --max-w-body-xl: 48rem;
  }

  /* Headings */
  .text-heading-1,
  .text-heading-2,
  .text-heading-3,
  .text-heading-4,
  .text-button,
  .menu-item,
  .logo-text {
    font-family: var(--font-sans);
    letter-spacing: -0.02em;
  }

  /* DRY heading styles: define once, reuse everywhere via grouped selectors */
  .text-heading-1,
  h1,
  .prose-serif h1 {
    font-family: var(--font-sans);
    font-size: 4.5rem;
    line-height: 1;
    font-weight: 300;
    letter-spacing: -0.02em;
    margin-block: 0.3em;
  }
  @media (min-width: 640px) {
    .text-heading-1,
    h1,
    .prose-serif h1 {
      font-size: 6rem;
      font-weight: 250;
    }
  }
  @media (min-width: 1280px) {
    .text-heading-1,
    h1,
    .prose-serif h1 {
      font-size: 8rem;
      font-weight: 200;
    }
  }

  .text-heading-2,
  h2,
  .prose-serif h2 {
    font-family: var(--font-sans);
    font-size: 3rem;
    line-height: 1.1;
    font-weight: 350;
    letter-spacing: -0.02em;
    margin-block: 0.5em;
  }
  @media (min-width: 640px) {
    .text-heading-2,
    h2,
    .prose-serif h2 {
      font-size: 3.75rem;
      line-height: 1;
      font-weight: 325;
    }
  }
  @media (min-width: 1280px) {
    .text-heading-2,
    h2,
    .prose-serif h2 {
      font-size: 4.5rem;
      font-weight: 300;
    }
  }

  .text-heading-3,
  h3,
  .prose-serif h3 {
    font-family: var(--font-sans);
    font-size: 1.875rem;
    line-height: 1.2;
    font-weight: 400;
    margin-block: 0.7em;
  }
  @media (min-width: 640px) {
    .text-heading-3,
    h3,
    .prose-serif h3 {
      font-size: 2.25rem;
      line-height: 1.1;
      font-weight: 375;
    }
  }
  @media (min-width: 1280px) {
    .text-heading-3,
    h3,
    .prose-serif h3 {
      font-size: 3rem;
      font-weight: 350;
    }
  }

  /* DRY: text-button and text-heading-4 share the same styles */
  .text-button,
  .text-heading-4,
  h4,
  .prose-serif h4 {
    font-family: var(--font-sans);
    font-size: 1.25rem;
    line-height: 1.2;
    font-weight: 550;
    margin-block: 0.9em;
  }
  @media (min-width: 640px) {
    .text-button,
    .text-heading-4,
    h4,
    .prose-serif h4 {
      font-size: 1.5rem;
      font-weight: 500;
    }
  }
  @media (min-width: 1280px) {
    .text-button,
    .text-heading-4,
    h4,
    .prose-serif h4 {
      font-size: 1.875rem;
      font-weight: 450;
    }
  }

  /* Serif body text */
  .text-body-large-serif,
  .text-body-standard-serif {
    font-family: var(--font-serif);
    line-height: 1.75;
    max-width: var(--max-w-body);
  }
  @media (min-width: 1280px) {
    .text-body-large-serif,
    .text-body-standard-serif {
      max-width: var(--max-w-body-xl);
    }
  }
  .text-body-large-serif {
    font-size: 1.25rem;
    font-weight: 400;
  }
  @media (min-width: 640px) {
    .text-body-large-serif {
      font-size: 1.5rem;
    }
  }
  @media (min-width: 1280px) {
    .text-body-large-serif {
      font-size: 1.875rem;
    }
  }
  .text-body-standard-serif {
    font-size: 1.125rem;
    font-weight: 450;
  }
  @media (min-width: 640px) {
    .text-body-standard-serif {
      font-size: 1.25rem;
    }
  }
  @media (min-width: 1280px) {
    .text-body-standard-serif {
      font-size: 1.5rem;
    }
  }

  .text-meta {
    font-family: var(--font-sans);
    font-size: 1rem;
    line-height: 1.75;
  }

  /* Links - hover uses transparent background for subtle effect, extends on Y axis */
  .text-link,
  .text-body-standard-serif a,
  .text-body-large-serif a {
    font-weight: 500;
    color: var(--color-link);
    text-decoration: none;
    transition:
      color 0.2s,
      background 0.2s,
      box-shadow 0.2s,
      transform 0.08s;
    border-radius: 0.3em;
    padding: 0.12em 0.35em;
    margin: -0.12em -0.35em;
    position: relative;
    /* Padding/margin on Y and X axis for full background extension */
  }
  .text-link:hover,
  .text-body-standard-serif a:hover,
  .text-body-large-serif a:hover {
    color: var(--color-link-hover);
    background: var(--color-link-bg-hover);
    box-shadow: none;
  }
  .text-link:active,
  .text-body-standard-serif a:active,
  .text-body-large-serif a:active {
    color: var(--color-link-active-text, #fff);
    background: var(--color-link-active-bg, #222a36);
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.1);
    transform: scale(0.97);
  }
  .text-body-standard-serif a {
    font-weight: 550;
  }
  .text-body-large-serif a {
    font-weight: 500;
  }

  /* Menu and logo */
  .menu-item {
    font-size: 3rem;
    line-height: 1.1;
    font-weight: 350;
  }
  @media (min-width: 640px) {
    .menu-item {
      font-size: 1.5rem;
      font-weight: 500;
    }
  }
  @media (min-width: 1280px) {
    .menu-item {
      font-size: 1.875rem;
      font-weight: 450;
    }
  }
  .logo-text {
    font-size: 1.125rem;
    line-height: 1.1;
    font-weight: 550;
  }
  @media (min-width: 640px) {
    .logo-text {
      font-size: 1.25rem;
      font-weight: 500;
    }
  }
  @media (min-width: 1280px) {
    .logo-text {
      font-size: 1.5rem;
      font-weight: 450;
    }
  }

  /* Updated .prose-serif using direct application of utilities with prose modifiers */
  .prose-serif {
    font-family: var(--font-serif);
    font-size: 1.125rem;
    line-height: 1.75;
    max-width: var(--max-w-body);
    color: inherit;
  }
  @media (min-width: 640px) {
    .prose-serif {
      font-size: 1.25rem;
    }
  }
  @media (min-width: 1280px) {
    .prose-serif {
      font-size: 1.5rem;
      max-width: var(--max-w-body-xl);
    }
  }

  /* Paragraphs, lists, and links inherit from .prose-serif, only override if needed */
  .prose-serif ul,
  .prose-serif ol {
    padding-left: 1.5em;
  }
  .prose-serif li {
    margin-top: 0.25em;
    margin-bottom: 0.25em;
  }
  .prose-serif a {
    /* Only add link-specific styles, inherit font and size */
    font-weight: 550;
    color: var(--color-link);
    text-decoration: none;
    transition:
      color 0.2s,
      background 0.2s,
      box-shadow 0.2s,
      transform 0.08s;
    border-radius: 0.3em;
    padding: 0.12em 0.35em;
    margin: -0.12em -0.35em;
    position: relative;
  }
  .prose-serif a:hover {
    color: var(--color-link-hover);
    background: var(--color-link-bg-hover);
  }
  .prose-serif a:active {
    color: var(--color-link-active-text);
    background: var(--color-link-active-bg);
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.1);
    transform: scale(0.97);
  }

  /* Ensure lists have bullets/numbers and improve paragraph spacing in prose-serif */
  .prose-serif ul {
    list-style-type: disc;
    padding-left: 1.5em;
    margin-top: 1em;
    margin-bottom: 1em;
  }
  .prose-serif ol {
    list-style-type: decimal;
    padding-left: 1.5em;
    margin-top: 1em;
    margin-bottom: 1em;
  }
  .prose-serif li {
    margin-top: 0.25em;
    margin-bottom: 0.25em;
  }
  .prose-serif p {
    margin-top: 1.2em;
    margin-bottom: 1.2em;
  }
}

/* Custom transition for DaisyUI dropdowns */
.dropdown .dropdown-content {
  /* Base/Closed state */
  opacity: 0;
  transform: scale(0.95);
  visibility: hidden; /* Ensures the element is not interactive when closed */

  transition-property:
    opacity, transform; /* Explicitly transition opacity and transform */
  transition-duration: 200ms; /* Consistent duration */
  transition-timing-function: ease-out; /* Smooth easing, common for UI elements */
}

/* Open state for <details class="dropdown" open> */
/* Using !important to ensure these styles override any conflicting base styles */
details.dropdown[open] > .dropdown-content {
  opacity: 1 !important;
  transform: scale(1) !important;
  visibility: visible !important; /* Crucial for making the content appear */
}

/* Open state for other types of dropdowns if they use a class like .dropdown-open on the parent */
/* For example, <div class="dropdown dropdown-open"> */
.dropdown.dropdown-open .dropdown-content {
  opacity: 1 !important; /* Using !important for consistency, may not be needed if no conflicts */
  transform: scale(1) !important;
  visibility: visible !important;
}

/* This rule defines the closed state (default for .dropdown-content if not open) */
/* Also, ensure this applies to .dropdown-content directly if it's the base state */
.dropdown
  .dropdown-content:not([style*="display: none"]):not(.dropdown-top):not(
    .dropdown-bottom
  ) {
  /* Added :not([style*="display: none"]) as a safeguard, though visibility should handle it */
  opacity: 0;
  transform: scale(0.95);
  visibility: hidden; /* Ensure hidden and no interaction when closed */
}

/* If .dropdown-content needs an explicit base state outside of :not() selectors,
   you might need to ensure it's also defined, e.g.:
.dropdown-content {
  opacity: 0;
  transform: scale(0.95);
  visibility: hidden;
  ...
}
  However, the :not() selector combined with the [open] state should cover it.
*/

/* source-sans-3-latin-wght-normal */
@font-face {
  font-family: "Source Sans 3 Variable";
  font-style: normal;
  font-display: block;
  font-weight: 200 900;
  src: url(@fontsource-variable/source-sans-3/files/source-sans-3-latin-wght-normal.woff2)
    format("woff2-variations");
  unicode-range:
    U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
    U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212,
    U+2215, U+FEFF, U+FFFD;
}

/* source-sans-3-cyrillic-wght-normal */
@font-face {
  font-family: "Source Sans 3 Variable";
  font-style: normal;
  font-display: block;
  font-weight: 200 900;
  src: url(@fontsource-variable/source-sans-3/files/source-sans-3-cyrillic-wght-normal.woff2)
    format("woff2-variations");
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}

/* source-sans-3-latin-ext-wght-normal */
@font-face {
  font-family: "Source Sans 3 Variable";
  font-style: normal;
  font-display: block;
  font-weight: 200 900;
  src: url(@fontsource-variable/source-sans-3/files/source-sans-3-latin-ext-wght-normal.woff2)
    format("woff2-variations");
  unicode-range:
    U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304,
    U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB,
    U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

/* source-sans-3-latin-wght-italic */
@font-face {
  font-family: "Source Sans 3 Variable";
  font-style: italic;
  font-display: block;
  font-weight: 200 900;
  src: url(@fontsource-variable/source-sans-3/files/source-sans-3-latin-wght-italic.woff2)
    format("woff2-variations");
  unicode-range:
    U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
    U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212,
    U+2215, U+FEFF, U+FFFD;
}

/* source-sans-3-cyrillic-wght-italic */
@font-face {
  font-family: "Source Sans 3 Variable";
  font-style: italic;
  font-display: block;
  font-weight: 200 900;
  src: url(@fontsource-variable/source-sans-3/files/source-sans-3-cyrillic-wght-italic.woff2)
    format("woff2-variations");
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}

/* source-sans-3-latin-ext-wght-italic */
@font-face {
  font-family: "Source Sans 3 Variable";
  font-style: italic;
  font-display: block;
  font-weight: 200 900;
  src: url(@fontsource-variable/source-sans-3/files/source-sans-3-latin-ext-wght-italic.woff2)
    format("woff2-variations");
  unicode-range:
    U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304,
    U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB,
    U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

/* bitter-latin-wght-normal */
@font-face {
  font-family: "Bitter Variable";
  font-style: normal;
  font-display: block;
  font-weight: 100 900;
  src: url(@fontsource-variable/bitter/files/bitter-latin-wght-normal.woff2)
    format("woff2-variations");
  unicode-range:
    U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
    U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212,
    U+2215, U+FEFF, U+FFFD;
}

/* bitter-cyrillic-wght-normal */
@font-face {
  font-family: "Bitter Variable";
  font-style: normal;
  font-display: block;
  font-weight: 100 900;
  src: url(@fontsource-variable/bitter/files/bitter-cyrillic-wght-normal.woff2)
    format("woff2-variations");
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}

/* bitter-latin-ext-wght-normal */
@font-face {
  font-family: "Bitter Variable";
  font-style: normal;
  font-display: block;
  font-weight: 100 900;
  src: url(@fontsource-variable/bitter/files/bitter-latin-ext-wght-normal.woff2)
    format("woff2-variations");
  unicode-range:
    U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304,
    U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB,
    U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

/* bitter-latin-wght-italic */
@font-face {
  font-family: "Bitter Variable";
  font-style: italic;
  font-display: block;
  font-weight: 100 900;
  src: url(@fontsource-variable/bitter/files/bitter-latin-wght-italic.woff2)
    format("woff2-variations");
  unicode-range:
    U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
    U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212,
    U+2215, U+FEFF, U+FFFD;
}

/* bitter-cyrillic-wght-italic */
@font-face {
  font-family: "Bitter Variable";
  font-style: italic;
  font-display: block;
  font-weight: 100 900;
  src: url(@fontsource-variable/bitter/files/bitter-cyrillic-wght-italic.woff2)
    format("woff2-variations");
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}

/* bitter-latin-ext-wght-italic */
@font-face {
  font-family: "Bitter Variable";
  font-style: italic;
  font-display: block;
  font-weight: 100 900;
  src: url(@fontsource-variable/bitter/files/bitter-latin-ext-wght-italic.woff2)
    format("woff2-variations");
  unicode-range:
    U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304,
    U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB,
    U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

/* source-code-pro-latin-wght-normal */
@font-face {
  font-family: "Source Code Pro Variable";
  font-style: normal;
  font-display: block;
  font-weight: 200 900;
  src: url(@fontsource-variable/source-code-pro/files/source-code-pro-latin-wght-normal.woff2)
    format("woff2-variations");
  unicode-range:
    U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
    U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212,
    U+2215, U+FEFF, U+FFFD;
}

/* source-code-pro-latin-ext-wght-normal */
@font-face {
  font-family: "Source Code Pro Variable";
  font-style: normal;
  font-display: block;
  font-weight: 200 900;
  src: url(@fontsource-variable/source-code-pro/files/source-code-pro-latin-ext-wght-normal.woff2)
    format("woff2-variations");
  unicode-range:
    U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304,
    U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB,
    U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

/* source-code-pro-cyrillic-wght-normal */
@font-face {
  font-family: "Source Code Pro Variable";
  font-style: normal;
  font-display: block;
  font-weight: 200 900;
  src: url(@fontsource-variable/source-code-pro/files/source-code-pro-cyrillic-wght-normal.woff2)
    format("woff2-variations");
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}

/* source-code-pro-latin-wght-italic */
@font-face {
  font-family: "Source Code Pro Variable";
  font-style: italic;
  font-display: block;
  font-weight: 200 900;
  src: url(@fontsource-variable/source-code-pro/files/source-code-pro-latin-wght-italic.woff2)
    format("woff2-variations");
  unicode-range:
    U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
    U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212,
    U+2215, U+FEFF, U+FFFD;
}

/* source-code-pro-latin-ext-wght-italic */
@font-face {
  font-family: "Source Code Pro Variable";
  font-style: italic;
  font-display: block;
  font-weight: 200 900;
  src: url(@fontsource-variable/source-code-pro/files/source-code-pro-latin-ext-wght-italic.woff2)
    format("woff2-variations");
  unicode-range:
    U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304,
    U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB,
    U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

/* source-code-pro-cyrillic-wght-italic */
@font-face {
  font-family: "Source Code Pro Variable";
  font-style: italic;
  font-display: block;
  font-weight: 200 900;
  src: url(@fontsource-variable/source-code-pro/files/source-code-pro-cyrillic-wght-italic.woff2)
    format("woff2-variations");
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}

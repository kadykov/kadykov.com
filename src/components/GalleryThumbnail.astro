---
import { Picture } from "astro:assets"

const { src, alt, widthSet } = Astro.props
const width = 320
const srcseMaxWidth = width * 5
const thumbnailWidthSet = widthSet.filter((w: number) => w <= srcseMaxWidth)
---

<Picture
  class="rounded-lg sm:rounded-2xl mb-4 sm:mb-8 drop-shadow-xl transition-transform duration-300 hover:scale-105"
  src={src}
  alt={alt}
  formats={["avif", "webp"]}
  fallbackFormat="jpg"
  inferSize={true}
  width={width}
  widths={thumbnailWidthSet}
  sizes={"(max-width: 600px) 40vw, (max-width: 1100px) 25vw, 300px"}
  loading="lazy"
/>

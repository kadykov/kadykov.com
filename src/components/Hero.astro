---
/**
 * Hero Component
 *
 * Reusable hero section that provides:
 * - Semantic <header> element styled as a hero
 * - Navigation shadow removal when hero is at the top
 * - Consistent hero styling across layouts
 *
 * Usage:
 *   <Hero>
 *     <h1>Title</h1>
 *     <p>Subtitle</p>
 *   </Hero>
 */
---

<header>
  <slot />
</header>

<script>
  // Handle navigation shadow removal when hero is present
  const navigationHeader = document.querySelector(
    "body > header"
  ) as HTMLElement

  if (navigationHeader) {
    // Set initial state - no shadow when hero layout is used
    navigationHeader.style.boxShadow = "none"

    // Listen for natural-sticky state changes
    navigationHeader.addEventListener("natural-sticky", (event) => {
      const customEvent = event as CustomEvent
      const currentState = customEvent.detail.state // 'home', 'sticky', or 'relative'

      // Directly control box-shadow based on state
      if (currentState === "home") {
        navigationHeader.style.boxShadow = "none"
      } else {
        navigationHeader.style.boxShadow = "var(--elevation-2)"
      }
    })
  }
</script>

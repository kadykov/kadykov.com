---
import { Icon } from "astro-icon/components"
const year = new Date().getFullYear()
const lastUpdated = new Date().toLocaleDateString("en-US", {
  year: "numeric",
  month: "long",
  day: "numeric",
})
---

<footer>
  <section>
    <Icon name="logo" />
    <p>
      <a
        href="https://creativecommons.org/licenses/by/4.0/"
        rel="license noopener"
        target="_blank"
      >
        CC BY 4.0
      </a> 2024 - {year} Aleksandr Kadykov
    </p>
  </section>

  <nav aria-label="Footer navigation">
    <section>
      <p>Pages</p>
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/about/">About</a></li>
        <li><a href="/contact/">Contact</a></li>
        <li><a href="/cv/">CV</a></li>
      </ul>
    </section>

    <section>
      <p>Content</p>
      <ul>
        <li><a href="/photos/1/">Photos</a></li>
        <li><a href="/blog/">Blog</a></li>
        <li><a href="/tags/">Tags</a></li>
        <li><a href="/rss.xml">RSS Feed</a></li>
      </ul>
    </section>

    <section>
      <p>Connect</p>
      <ul>
        <li>
          <a href="mailto:web@kadykov.com">Email</a>
        </li>
        <li>
          <a href="https://www.linkedin.com/in/aleksandr-kadykov/">LinkedIn</a>
        </li>
        <li>
          <a href="https://github.com/kadykov">GitHub</a>
        </li>
        <li>
          <a href="https://gitlab.com/kadykov">GitLab</a>
        </li>
      </ul>
    </section>
  </nav>

  <section>
    <a href="/privacy-policy/">Privacy Policy</a>
    <p>Last updated: {lastUpdated}</p>
  </section>
</footer>

<style is:global>
  footer {
    /* Theme-aware muted background */
    background-color: var(--color-bg-muted);
    color: var(--color-content-muted);

    /* Inner shadow on top - sharp edge like before */
    box-shadow: inset var(--color-shadow);

    /* Layout - style footer directly */
    display: flex;
    flex-direction: column;
    gap: 2em;
    padding-top: 2em;
    padding-bottom: 2em;
    margin-top: 4em;
  }

  /* Brand section - first section with logo and copyright */
  footer > section:first-child {
    display: flex;
    align-items: center;
    gap: 1em;
  }

  footer > section:first-child svg {
    height: 2em;
    width: 2em;
    color: var(--color-content);
  }

  footer > section:first-child p {
    font-size: 1rem;
    margin: 0;
  }

  footer nav {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 2em;
  }

  footer nav section p {
    color: var(--color-content);
    margin: 0 0 1em 0;
    font-size: 1.125rem;
    font-weight: 550;
  }

  footer nav section ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0.5em;
  }

  footer nav section a {
    padding: 0.25em 0;
    transition: color 0.2s;
  }

  footer a:hover {
    color: var(--color-content);
  }

  /* Legal section - last section */
  footer > section:last-child {
    border-top: 1px solid #333;
    padding-top: 1em;
    text-align: center;
    display: flex;
    flex-direction: column;
    gap: 0.5em;
  }

  footer > section:last-child p {
    font-size: 0.875rem;
    margin: 0;
  }

  footer > section:last-child a {
    text-decoration: none;
    transition: color 0.2s;
  }

  footer > section:last-child a:hover {
    color: var(--color-content);
  }

  /* Mobile adjustments */
  @media (max-width: 680px) {
    footer {
      padding-top: 1.5em;
      padding-bottom: 1.5em;
      margin-top: 2em;
    }

    footer nav {
      grid-template-columns: 1fr;
      gap: 1.5em;
    }

    footer > section:first-child {
      flex-direction: column;
      align-items: flex-start;
      gap: 0.5em;
    }
  }
</style>
